자세 교정 - 시작 시 현위치 파악, 계단 방향을 향해 가이드 라인 위에 섬

이동 - 고개를 숙인 채 가이드 라인이 끊기는 위치까지 가이드 라인을 따라서 이동

계단 찾기 - 고개를 들어 계단의 위치를 파악하고 계단 방향과 일치하게 자세 교정





계단 단계 수행{

	빨강 계단 오르기 - 고개를 숙여 빨강 계단 오르기가 가능한 위치까지 이동한 후 계단 오르기 실행

	자세 교정 - 다음 파랑 계단과 수평으로 서있는지 파악 후 자세를 교정
	
	파랑 계단 오르기 - 위와 동일.

	자세 교정 - 다음 빨강 계단과 수평으로 서있는지 파악 후 자세를 교정

	파랑 계단 내려가기 - 파랑 계단의 끝단으로 이동 후 계단 내려가기

	자세 교정 - 빨강 계단의 끝단과 수평으로 서있는지 파악 후 자세를 교정

	빨강 계단 내려가기 - 빨강 계단의 끝단으로 이동 후 계단 내려가기
}





가이드 라인 찾기 - 고개를 들어 가이드 라인을 확인하고 가이드 라인으로 이동.

자세 교정 - 고개를 숙인 채 가이드 라인과 수직 상태로 서있도록 조정

이동 - 외나무 다리 아래가 검은 색임을 이용하여 외나무 다리 구간의 시작 지점까지 이동

자세 교정 - 가이드 라인과 수직 상태로 서있도록 조정






외나무 다리 단계 수행(성공 할때까지 과정 반복){
	
	이동 - 일정 거리만큼 이동(이동 거리는 추후 결정 필요)

	외나무 다리 끝 확인 - 화면에 검은색이 존재하지 않을 시 끝으로 판단하고 일정거리 이동 후 
			      외나무 다리 단계 종료

	자세 교정 - 가이드 라인과 수직으로 자세를 교정
}





모서리 구간까지 이동 - 가이드 라인을 중심으로 두고 가이드 라인 좌우로 일정 범위 안에 장애물이 존재시
		       장애물 근처까지 진행하여 장애물을 치우는 과정이 필요함.

모서리 도착 판단 - 가이드 라인이 더 이상 시야에 존재하지 않을 시 모서리에 도착하였다 판단

회전 - 좌측으로 90도 회전. 회전 후 고개를 들어 전방에 문이 존재하는지 판단하고 없을 시 찾을때까지 회전.

문 접근 - 고개를 들어 문을 중심으로 잡아 접근하며 화면의 중심부 근처에 장애물이 존재시 치우며 
	  적외선 센서를 이용하여 문의 20cm전까지 전진





문 통과 단계 수행{
	
	자세 교정 - 문과 평행하게 서있도록 자세 교정 후 오른 팔을 가슴 앞에 위치하도록 접어서 올림.

	문 접근 - 그 상태로 문의 5~7cm 전까지 접근

	자세 교정 - 문의 높이에 맞춰 로봇의 관절을 굽혀준다

	문 열기 - 접어둔 오른 팔을 앞으로 펴면서 문을 열어줌. 시야에 문 외의 다른 정보가 들어온다면 문이
		  열린 것으로 판단하여 로봇의 고개를 다시 내려 하단의 가이드 라인을 추적

	문 통과 - 팔을 뻗은채로 가이드 라인을 따라 로봇을 전진시켜 통과

	모서리 도착 판단 - 이전과 동일하게 모서리에 도착하였다 판단시 문 단계를 종료

	자세 교정 - 다시 로봇을 초기 자세로 바꾸어줌
}




회전 - 좌측으로 90도 회전. 터널의 상단 색상을 통해 터널 식별이 가능하다는 가정하에 터널을 인식하면 회전 	
       성공으로 판단. 실패시 다시 회전

터널 접근 - 가이드 라인을 기준으로 장애물을 치우며 진행. 적외선 센서를 활성화 시켜 터널과의 거리를 측정
	    적외선 센서 기준 일정 거리(40 ~ 50cm) 접근시 접근 성공으로 판단.




터널 구간 단계 수행{

	자세 교정 - 터널을 통과시 뒤로 통과하기에 로봇을 180도 회전.(회전 성공 여부 조건 필요)
		    회전 성공시 로봇에게 터널 이동 구동을 명령함

	터널 통과 판단 - 로봇의 정면이 위를 향하고 있기에 적외선 센서를 활성화 시켜 적외선 센서에 가까운 
			 거리에 무엇인가 잡힐시 터널 천장으로 판단. 다시 가까운 거리에 안잡힐시 터널을
			 통과 했다고 판단. 그 후 조금의 거리를 조금 더 전진.

	자세 교정 - 터널 통과가 확실시 되면 로봇을 일으켜 세우고 180도 회전. 전방에 가스밸브 타워가 잡힐
		    시 회전 성공으로 판단.
}




가스밸브 타워 이동 - 고개를 내려 가이드 라인을 기준으로 이동하며 장애물 존재시 치워줌. 가이드 라인이 	
		     끊기게 되면 가스밸브 타워 근처에 접근했다고 판단함.





가스밸브 타워 단계 수행{

	가스밸브 타워 접근 - 근처에 왔다면 로봇을 우측으로 몇번 이동시키며 적외선 센서를 이용하여 전방에 
			     가스밸브 타워가 있다는 것을 인식함. 동시에 고개를 들어 가스밸브의 위치도 
		  	     파악해줌.
		    	     가스밸브 타워와의 거리는 적외선 센서를 이용하여 정하고 현재 로봇의 좌우 
			     위치는 카메라를 이용해 가스밸브의 위치를 기준으로 잡는다.

	자세 교정 - 가스밸브를 잠그기 위해 팔의 각도를 조절

	가스밸브 잠그기 - 팔을 움직여 가스밸브를 잠그어줌. 달성 여부는 가스밸브의 기울기를 카메라로 판단
}